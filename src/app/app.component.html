<header class="bg-header d-flex justify-content-center align-items-center flex-column">
  <div class="logo_name d-flex justify-content-center align-items-center flex-column">
    <img src="../assets/images/logo_small_hs.png" alt="Logo">
    <h1 class="text-light">HearthStone</h1>
  </div>
  <div class="nav-bar d-flex align-items-end">
    <nav class="d-flex align-items-center">
      <div class="container">
        <ul class="d-flex justify-content-between w-100">
          <li>
            <div class="mb-3" id="inputNameOrId">
              <input type="text" class="form-control" placeholder="Pesquisar" name="inputName" [(ngModel)]="inputName" (change)="changeInputName()">
            </div>
          </li>
          <li>
            <div id="selectClass">
              <select class="form-select" aria-label="Classes" name="classes" [(ngModel)]="classes" (change)="changeSelectClass()">
                <option class="option1" selected>Escolha uma abaixo</option>
                <option value="Mago">Mago</option>
                <option value="Paladino">Paladino</option>
                <option value="Caçador">Caçador</option>
                <option value="Druida">Druida</option>
                <option value="Qualquer">Qualquer</option>
              </select>
            </div>
          </li>
          <li>
            <div id="selectType">
              <select class="form-select" aria-label="Tipo" name="tipos" [(ngModel)]="tipos" (change)="changeSelectType()">
                <option class="option1" selected>Escolha um abaixo</option>
                <option value="Magia">Magia</option>
                <option value="Criatura">Criatura</option>
              </select>
            </div>
          </li>
          <li>
            <div id="btnSubmit">
              <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#modalInsertCart">
                Incluir carta
              </button>
            </div>
          </li>
        </ul>
      </div>
    </nav>
  </div>
</header>

<section class="bg-section d-flex justify-content-center flex-column mt-5 mb-5">
    <h3 class="title col-md-12">Manutenção das Cartas</h3>
    <div class="container d-flex justify-content-around">
        <div class="flip-card" *ngFor="let card of cardFiltered">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="../assets/images/hearthstone-verso-clssico.png" alt="card">
            </div>
            <div class="flip-card-back">
              <div class="d-flex flex-column align-items-start">
                <h4>Nome:</h4>
                <span>{{card.nome}}</span>
              </div>
              <div class="d-flex flex-column align-items-start">
                <h4>Ataque:</h4>
                <span>{{card.ataque}}</span>
              </div>
              <div class="d-flex flex-column align-items-start">
                <h4>Defesa:</h4>
                <span>{{card.defesa}}</span>
              </div>
              <div class="d-flex flex-column align-items-start">
                <h4>Tipo:</h4>
                <span>{{card.tipo}}</span>
              </div>
              <div class="d-flex flex-column align-items-start">
                <h4>Classe:</h4>
                <span>{{card.classe}}</span>
              </div>
              <div class="commands d-flex flex-column">
                  <img class="btn btn-outline-warning" src="../assets/images/edit.svg" alt="edit" width="45" height="45" data-bs-toggle="modal" data-bs-target="#modalUpdateCart" (click)="edit(card)">
                  <img class="btn btn-outline-danger mt-2" src="../assets/images/trash.svg" alt="trash" width="45" height="45" (click)="deleteItem(card.id)">
              </div>
            </div>
          </div>
        </div>
    </div>
  </section>

<!-- Modal Add -->
<div class="modal fade" id="modalInsertCart" tabindex="-1" aria-labelledby="modalInsertCart" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalInsertCart">Nova Carta</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #f="ngForm">
            <div class="mb-3">
              <label for="inputId" class="form-label">Id</label>
              <input type="number" class="form-control" id="inputId" aria-describedby="inputId" placeholder="Digite..." name="id" [(ngModel)]="card.id">
            </div>
            <div class="mb-3">
              <label for="inputName" class="form-label">Nome</label>
              <input type="text" class="form-control" id="inputName" aria-describedby="inputName" placeholder="Digite..." name="nome" [(ngModel)]="card.nome">
            </div>
            <div class="mb-3">
              <span for="inputDescription">Descrição</span>
              <textarea class="form-control" placeholder="Digite..." id="inputDescription" name="descricao" [(ngModel)]="card.descricao"></textarea>
            </div>
            <div class="mb-3">
              <label for="inputAtack" class="form-label">Ataque</label>
              <input type="number" class="form-control" id="inputAtack" aria-describedby="inputAtack" placeholder="Digite..." name="ataque" [(ngModel)]="card.ataque">
            </div>
            <div class="mb-3">
              <label for="inputDefense" class="form-label">Defesa</label>
              <input type="email" class="form-control" id="inputDefense" aria-describedby="inputDefense" placeholder="Digite..." name="defesa" [(ngModel)]="card.defesa">
            </div>
            <div id="selectTypeModal" class="mb-3 d-flex flex-column">
              <label for="selectType" class="form-label">Tipo</label>
              <select class="form-select" aria-label="Tipo" name="tipo" [(ngModel)]="card.tipo" >
                <option class="option1" selected>Escolha um abaixo</option>
                <option value="Magia">Magia</option>
                <option value="Criatura">Criatura</option>
              </select>
            </div>
            <div id="selectClassModal" class="mb-3">
              <label for="selectClass" class="form-label">Classes</label>
              <select class="form-select" aria-label="Classes" name="classe" [(ngModel)]="card.classe" >
                <option class="option1" selected>Escolha uma abaixo</option>
                <option value="Mago">Mago</option>
                <option value="Paladino">Paladino</option>
                <option value="Caçador">Caçador</option>
                <option value="Druida">Druida</option>
                <option value="Qualquer">Qualquer</option>
              </select>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-light" data-bs-dismiss="modal">Fechar</button>
              <button type="button" id="btnSave" class="btn btn-secondary" (click)="onSubmit(f)" data-bs-dismiss="modal">Salvar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Update -->
<div class="modal fade" id="modalUpdateCart" tabindex="-1" aria-labelledby="modalUpdateCart" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalUpdateCart">Editar Carta</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #f="ngForm">
            <div class="mb-3">
              <label for="inputName" class="form-label">Nome</label>
              <input type="text" class="form-control" id="inputName" aria-describedby="inputName" placeholder="Digite..." name="nome" [(ngModel)]="card.nome">
            </div>
            <div class="mb-3">
              <span for="inputDescription">Descrição</span>
              <textarea class="form-control" placeholder="Digite..." id="inputDescription" name="descricao" [(ngModel)]="card.descricao"></textarea>
            </div>
            <div class="mb-3">
              <label for="inputAtack" class="form-label">Ataque</label>
              <input type="number" class="form-control" id="inputAtack" aria-describedby="inputAtack" placeholder="Digite..." name="ataque" [(ngModel)]="card.ataque">
            </div>
            <div class="mb-3">
              <label for="inputDefense" class="form-label">Defesa</label>
              <input type="email" class="form-control" id="inputDefense" aria-describedby="inputDefense" placeholder="Digite..." name="defesa" [(ngModel)]="card.defesa">
            </div>
            <div id="selectTypeModal" class="mb-3 d-flex flex-column">
              <label for="selectType" class="form-label">Tipo</label>
              <select class="form-select" aria-label="Tipo" name="tipo" [(ngModel)]="card.tipo">
                <option class="option1" selected>Escolha um abaixo</option>
                <option value="Magia">Magia</option>
                <option value="Criatura">Criatura</option>
              </select>
            </div>
            <div id="selectClassModal" class="mb-3">
              <label for="selectClass" class="form-label">Classes</label>
              <select class="form-select" aria-label="Classes" name="classe" [(ngModel)]="card.classe" >
                <option class="option1" selected>Escolha uma abaixo</option>
                <option value="Mago">Mago</option>
                <option value="Paladino">Paladino</option>
                <option value="Caçador">Caçador</option>
                <option value="Druida">Druida</option>
                <option value="Qualquer">Qualquer</option>
              </select>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-light" data-bs-dismiss="modal">Fechar</button>
              <button type="button" id="btnSave" class="btn btn-secondary" (click)="onUpdate(f)" data-bs-dismiss="modal">Salvar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>